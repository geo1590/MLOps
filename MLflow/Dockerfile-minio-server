# Use a minimal base image
FROM alpine:latest

# Set environment variables for MinIO credentials
ENV MINIO_ACCESS_KEY=minioadmin
ENV MINIO_SECRET_KEY=minioadmin

# Install dependencies and download MinIO binary
RUN apk add --no-cache wget ca-certificates && \
    wget https://dl.min.io/server/minio/release/linux-amd64/minio -O /usr/local/bin/minio && \
    chmod +x /usr/local/bin/minio

# Create a data directory
RUN mkdir /data

# Expose MinIO default port
EXPOSE 9000 9001

CMD ["minio", "server", "/data", "--address", ":9000", "--console-address", ":9001"]

